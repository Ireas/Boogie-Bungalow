[gd_scene load_steps=4 format=3 uid="uid://vwdey52kj1k1"]

[ext_resource type="Script" path="res://Connector.cs" id="1_xpmhx"]
[ext_resource type="Script" path="res://play_music.gd" id="2_ink66"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_y3q11"]
bg_color = Color(0.6763, 0.535819, 0.76293, 1)

[node name="TestUniverse" type="Node"]

[node name="Panel" type="Panel" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme_override_styles/panel = SubResource("StyleBoxFlat_y3q11")

[node name="MusicButton" type="Button" parent="Panel" node_paths=PackedStringArray("music_player")]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -576.0
offset_top = 64.0
offset_right = -466.0
offset_bottom = 121.0
grow_horizontal = 2
text = "Play Music"
script = ExtResource("2_ink66")
music_player = NodePath("../../MusicPlayer")

[node name="VBoxContainer" type="VBoxContainer" parent="Panel"]
layout_mode = 0
offset_left = 697.0
offset_top = 66.0
offset_right = 1072.0
offset_bottom = 202.0

[node name="SearchCOMs" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "Search All Coms"

[node name="ConnectCOM5_deferred" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "Connect to COM5 (call deferred)"

[node name="DisconnectCOM" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "Disconnect"

[node name="HBoxContainer" type="HBoxContainer" parent="Panel"]
layout_mode = 0
offset_left = -19.0
offset_top = 347.0
offset_right = 1181.0
offset_bottom = 481.0

[node name="ButtonDrinksSolve" type="Button" parent="Panel/HBoxContainer"]
layout_mode = 2
text = "DRINKS
Solve
(13,01,00)"

[node name="ButtonStopptanzInit" type="Button" parent="Panel/HBoxContainer"]
layout_mode = 2
text = "STOPPTANZ
Init
(02,00,03)"

[node name="ButtonStopptanzDance" type="Button" parent="Panel/HBoxContainer"]
layout_mode = 2
text = "STOPPTANZ
Dance
(02,00,01)"

[node name="ButtonStopptanzStop" type="Button" parent="Panel/HBoxContainer"]
layout_mode = 2
text = "STOPPTANZ
Stop
(02,00,02)"

[node name="ButtonStopptanzStop2" type="Button" parent="Panel/HBoxContainer"]
layout_mode = 2
text = "STOPPTANZ
Solve
(02,01,00)
"

[node name="ButtonSparkastenOpen" type="Button" parent="Panel/HBoxContainer"]
layout_mode = 2
text = "SPARKASTEN
Open
(03,00,01)"

[node name="ButtonWasserhahnEnable" type="Button" parent="Panel/HBoxContainer"]
layout_mode = 2
text = "WASSERHAHN
Enable
(05,00,01)"

[node name="ButtonWasserhahnOpen" type="Button" parent="Panel/HBoxContainer"]
layout_mode = 2
text = "Wasserhahn
Open
(05,00,02)"

[node name="ButtonSchichtplanOpen" type="Button" parent="Panel/HBoxContainer"]
layout_mode = 2
text = "Schichtplan
Open
(05,00,03)"

[node name="ButtonSepareeRot" type="Button" parent="Panel/HBoxContainer"]
layout_mode = 2
text = "Separee
Rot
(01,00,01)"

[node name="ButtonSepareeGrün" type="Button" parent="Panel/HBoxContainer"]
layout_mode = 2
text = "Separee
Grün
(01,00,02)"

[node name="ButtonSepareeBlau" type="Button" parent="Panel/HBoxContainer"]
layout_mode = 2
text = "Separee
Blau
(01,00,03)"

[node name="MusicPlayer" type="AudioStreamPlayer" parent="."]

[node name="Connector" type="Node" parent="." node_paths=PackedStringArray("timer_ack", "timer_sync_packages")]
script = ExtResource("1_xpmhx")
timer_ack = NodePath("ACKTimerMax")
timer_sync_packages = NodePath("TimerSync")

[node name="ACKTimerMax" type="Timer" parent="Connector"]
wait_time = 20.0
one_shot = true

[node name="TimerSync" type="Timer" parent="Connector"]
one_shot = true

[node name="BackgroundWorker" type="Timer" parent="Connector"]
wait_time = 0.5

[connection signal="button_down" from="Panel/MusicButton" to="Panel/MusicButton" method="_on_button_down"]
[connection signal="button_down" from="Panel/VBoxContainer/SearchCOMs" to="Connector" method="SearchAllComs"]
[connection signal="button_down" from="Panel/VBoxContainer/ConnectCOM5_deferred" to="Connector" method="Start"]
[connection signal="button_down" from="Panel/VBoxContainer/DisconnectCOM" to="Connector" method="Disconnect"]
[connection signal="button_down" from="Panel/HBoxContainer/ButtonDrinksSolve" to="Connector" method="DinksSolve"]
[connection signal="button_down" from="Panel/HBoxContainer/ButtonStopptanzInit" to="Connector" method="StopptanzInit"]
[connection signal="button_down" from="Panel/HBoxContainer/ButtonStopptanzDance" to="Connector" method="StopptanzDance"]
[connection signal="button_down" from="Panel/HBoxContainer/ButtonStopptanzStop" to="Connector" method="StopptanzStop"]
[connection signal="button_down" from="Panel/HBoxContainer/ButtonStopptanzStop2" to="Connector" method="StopptanzSolve"]
[connection signal="button_down" from="Panel/HBoxContainer/ButtonSparkastenOpen" to="Connector" method="SparkastenOpen"]
[connection signal="button_down" from="Panel/HBoxContainer/ButtonWasserhahnEnable" to="Connector" method="WasserhahnEnable"]
[connection signal="button_down" from="Panel/HBoxContainer/ButtonWasserhahnOpen" to="Connector" method="WasserhahnOpen"]
[connection signal="button_down" from="Panel/HBoxContainer/ButtonSchichtplanOpen" to="Connector" method="SchichtplanOpen"]
[connection signal="button_down" from="Panel/HBoxContainer/ButtonSepareeRot" to="Connector" method="SepareeRot"]
[connection signal="button_down" from="Panel/HBoxContainer/ButtonSepareeGrün" to="Connector" method="SepareeGruen"]
[connection signal="button_down" from="Panel/HBoxContainer/ButtonSepareeBlau" to="Connector" method="SepareeBlau"]
[connection signal="timeout" from="Connector/BackgroundWorker" to="Connector" method="_on_background_worker_timeout"]
