[gd_scene load_steps=5 format=3 uid="uid://vwdey52kj1k1"]

[ext_resource type="Script" path="res://play_music.gd" id="1_e0xfp"]
[ext_resource type="Script" path="res://ButtonStopptanz.gd" id="2_0cp2y"]
[ext_resource type="Script" path="res://Connector.cs" id="2_5v0y2"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_y3q11"]
bg_color = Color(0.6763, 0.535819, 0.76293, 1)

[node name="TestUniverse" type="Node"]

[node name="Panel" type="Panel" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme_override_styles/panel = SubResource("StyleBoxFlat_y3q11")

[node name="Connect" type="Button" parent="Panel"]
layout_mode = 2
offset_left = 1.0
offset_top = 1.0
offset_right = 227.0
offset_bottom = 32.0
text = "Connect to COM5"

[node name="DebugSection" type="VBoxContainer" parent="Panel"]
layout_mode = 0
offset_left = 948.0
offset_top = 1.0
offset_right = 1154.0
offset_bottom = 180.0
metadata/_edit_group_ = true

[node name="MusicButton" type="Button" parent="Panel/DebugSection" node_paths=PackedStringArray("music_player")]
layout_mode = 2
text = "Play Music"
script = ExtResource("1_e0xfp")
music_player = NodePath("../../../MusicPlayer")

[node name="SearchCOMs" type="Button" parent="Panel/DebugSection"]
layout_mode = 2
text = "Search All Coms"

[node name="DisconnectCOM" type="Button" parent="Panel/DebugSection"]
layout_mode = 2
text = "Disconnect"

[node name="VBoxContainer" type="VBoxContainer" parent="Panel"]
layout_mode = 0
offset_left = -3.0
offset_top = 87.0
offset_right = 412.0
offset_bottom = 649.0
metadata/_edit_group_ = true

[node name="ButtonDrinksSolve" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "DRINKS: Solve(13,01,00)"
alignment = 0

[node name="ButtonStopptanzInit" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "STOPPTANZ: Init(02,00,03)"
alignment = 0

[node name="ButtonStopptanzDance" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "STOPPTANZ: Dance(02,00,01)"
alignment = 0

[node name="ButtonStopptanzStop" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "STOPPTANZ: Stop(02,00,02)"
alignment = 0

[node name="ButtonStopptanzSolve" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "STOPPTANZ: Solve(02,01,00)
"
alignment = 0

[node name="ButtonSparkastenOpen" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "SPARKASTEN: Open(03,00,01)"
alignment = 0

[node name="ButtonWasserhahnEnable" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "WASSERHAHN: Enable(05,00,01)"
alignment = 0

[node name="ButtonWasserhahnOpen" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "WASSERHAHN:Open(05,00,02)"
alignment = 0

[node name="ButtonSchichtplanOpen" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "SCHICHTPLAN:Open(05,00,03)"
alignment = 0

[node name="ButtonSepareeRot" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "SEPAREE: Rot(01,00,01)"
alignment = 0

[node name="ButtonSepareeGrün" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "SEPAREE: Grün(01,00,02)"
alignment = 0

[node name="ButtonSepareeBlau" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "SEPAREE: Blau(01,00,03)"
alignment = 0

[node name="ButtonSepareeBlau2" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "SEPAREE: Solve(??,??,??)"
alignment = 0

[node name="ButtonSepareeBlau3" type="Button" parent="Panel/VBoxContainer"]
layout_mode = 2
text = "SEPAREE: Weiß(??,??,??)"
alignment = 0

[node name="VBoxContainer2" type="VBoxContainer" parent="Panel"]
layout_mode = 0
offset_left = 475.0
offset_top = 92.0
offset_right = 908.0
offset_bottom = 576.0

[node name="HBoxContainer" type="HBoxContainer" parent="Panel/VBoxContainer2"]
layout_mode = 2

[node name="CustomButton" type="Button" parent="Panel/VBoxContainer2/HBoxContainer"]
layout_mode = 2
text = "Stoptanz
Init"
script = ExtResource("2_0cp2y")

[node name="CustomButton2" type="Button" parent="Panel/VBoxContainer2/HBoxContainer"]
layout_mode = 2
text = "Stoptanz
Dance"
script = ExtResource("2_0cp2y")
task = 1

[node name="CustomButton3" type="Button" parent="Panel/VBoxContainer2/HBoxContainer"]
layout_mode = 2
text = "Stoptanz
Stop"
script = ExtResource("2_0cp2y")
task = 2

[node name="CustomButton4" type="Button" parent="Panel/VBoxContainer2/HBoxContainer"]
layout_mode = 2
text = "Stoptanz
Solve"
script = ExtResource("2_0cp2y")
task = 3

[node name="MusicPlayer" type="AudioStreamPlayer" parent="."]

[node name="Connector" type="Node" parent="." node_paths=PackedStringArray("timer_ack", "timer_sync_packages")]
script = ExtResource("2_5v0y2")
timer_ack = NodePath("ACKTimerMax")
timer_sync_packages = NodePath("TimerSync")

[node name="ACKTimerMax" type="Timer" parent="Connector"]
wait_time = 20.0
one_shot = true

[node name="TimerSync" type="Timer" parent="Connector"]
one_shot = true

[node name="BackgroundWorker" type="Timer" parent="Connector"]
wait_time = 0.5

[connection signal="button_down" from="Panel/Connect" to="Connector" method="Start"]
[connection signal="button_down" from="Panel/DebugSection/MusicButton" to="Panel/DebugSection/MusicButton" method="_on_button_down"]
[connection signal="button_down" from="Panel/DebugSection/SearchCOMs" to="Connector" method="SearchAllComs"]
[connection signal="button_down" from="Panel/DebugSection/DisconnectCOM" to="Connector" method="Disconnect"]
[connection signal="button_down" from="Panel/VBoxContainer/ButtonDrinksSolve" to="Connector" method="DinksSolve"]
[connection signal="button_down" from="Panel/VBoxContainer/ButtonStopptanzInit" to="Connector" method="StopptanzInit"]
[connection signal="button_down" from="Panel/VBoxContainer/ButtonStopptanzDance" to="Connector" method="StopptanzDance"]
[connection signal="button_down" from="Panel/VBoxContainer/ButtonStopptanzStop" to="Connector" method="StopptanzStop"]
[connection signal="button_down" from="Panel/VBoxContainer/ButtonStopptanzSolve" to="Connector" method="StopptanzSolve"]
[connection signal="button_down" from="Panel/VBoxContainer/ButtonSparkastenOpen" to="Connector" method="SparkastenOpen"]
[connection signal="button_down" from="Panel/VBoxContainer/ButtonWasserhahnEnable" to="Connector" method="WasserhahnEnable"]
[connection signal="button_down" from="Panel/VBoxContainer/ButtonWasserhahnOpen" to="Connector" method="WasserhahnOpen"]
[connection signal="button_down" from="Panel/VBoxContainer/ButtonSchichtplanOpen" to="Connector" method="SchichtplanOpen"]
[connection signal="button_down" from="Panel/VBoxContainer/ButtonSepareeRot" to="Connector" method="SepareeRot"]
[connection signal="button_down" from="Panel/VBoxContainer/ButtonSepareeGrün" to="Connector" method="SepareeGruen"]
[connection signal="button_down" from="Panel/VBoxContainer/ButtonSepareeBlau" to="Connector" method="SepareeBlau"]
[connection signal="button_down" from="Panel/VBoxContainer2/HBoxContainer/CustomButton" to="Panel/VBoxContainer2/HBoxContainer/CustomButton" method="_on_button_down"]
[connection signal="timeout" from="Connector/BackgroundWorker" to="Connector" method="_on_background_worker_timeout"]
